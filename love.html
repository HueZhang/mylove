<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <title>Sorry</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: linear-gradient(135deg, #fffafc 0%, #ffeef5 100%);
        font-family: "Segoe UI Emoji", "Comic Sans MS", sans-serif;
        height: 100%;
      }

      .love-popup {
        position: fixed;
        padding: 0.5em 1em;
        border-radius: 16px;
        color: white;
        text-align: center;
        opacity: 0;
        transform: scale(0.5);
        animation: popup 3.5s ease-out forwards;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.25);
        pointer-events: none;
        word-break: keep-all;
      }

      @keyframes popup {
        0% {
          opacity: 0;
          transform: scale(0.5);
        }
        15% {
          opacity: 1;
          transform: scale(1.1);
        }
        85% {
          opacity: 1;
          transform: scale(1);
        }
        100% {
          opacity: 0;
          transform: scale(0.5);
        }
      }

      /* Ëá™ÈÄÇÂ∫îÊñáÂ≠óÂ§ßÂ∞è */
      @media (max-width: 600px) {
        .love-popup {
          font-size: 16px;
          padding: 6px 10px;
        }
      }

      @media (min-width: 601px) {
        .love-popup {
          font-size: 22px;
        }
      }
    </style>
  </head>
  <body>
    <audio
      src="https://huezhang.github.io/mylove/static/sorry.mp3"
      autoplay
      muted
      loop
    ></audio>

    <script>
      const loveSentences = [
        "ÂØπ‰∏çËµ∑ÔºåÊàëÈîô‰∫Üüôá‚Äç‚ôÇÔ∏è",
        "ÂéüË∞ÖÊàëÂ•ΩÂêóü•∫",
        "ÊòØÊàë‰∏çÂ•Ωüòî",
        "Âà´ÁîüÊ∞îÂï¶üíî",
        "ÊàëÁúüÁöÑÂæàÊä±Ê≠âüåßÔ∏è",
        "ÊàëÁü•ÈÅìÈîô‰∫Üüôè",
        "ËØ∑ÁªôÊàë‰∏ÄÊ¨°Êú∫‰ºö‚ú®",
        "‰ª•Âêé‰∏ç‰ºöÂÜçËøôÊ†∑‰∫Üüí´",
        "ÈÉΩÊòØÊàëÁöÑÈîôüò£",
        "‰Ω†ËÉΩÂéüË∞ÖÊàëÂêóüå∏",
        "Êàë‰øùËØÅ‰ºöÊîπÊ≠£üåü",
        "ÂøÉÈáåÂ•ΩÈöæÂèóüíß",
        "‰∏çÊÉ≥Â§±Âéª‰Ω†üíò",
        "ÁªôÊàë‰∏™Êú∫‰ºöÂº•Ë°•‚òî",
        "ÁúüÁöÑÂæàÂêéÊÇîüåô",
        "Êàë‰ºöÂ•ΩÂ•ΩÁèçÊÉúÁöÑüíû",
        "üôá‚Äç‚ôÇÔ∏èüôá‚Äç‚ôÇÔ∏èüôá‚Äç‚ôÇÔ∏è",
        "ü•∫ü•∫ü•∫",
        "üòîüòîüòî",
        "üíîüíîüíî",
        "üôèüôèüôè",
        "üåßÔ∏èüåßÔ∏èüåßÔ∏è",
        "‚ú®‚ú®‚ú®",
        "üí´üí´üí´",
        "üò£üò£üò£",
        "üå∏üå∏üå∏",
        "üåüüåüüåü",
        "üíßüíßüíß",
        "ÊàëÊÑèËØÜÂà∞Ëá™Â∑±ÁöÑÈóÆÈ¢ò‰∫Ü",
        "‰Ω†ÁöÑÊÑüÂèóÊàëÂÆåÂÖ®ÁêÜËß£",
        "Êàë‰ºöÂä™ÂäõÂèòÂæóÊõ¥Â•Ω",
        "‰∏çÊÉ≥ËÆ©‰Ω†ÈöæËøá",
        "ËØ∑Êé•ÂèóÊàëÁöÑÊ≠âÊÑè",
        "Êàë‰ºöÁî®Ë°åÂä®ËØÅÊòé",
      ];

      const colors = [
        "pink",
        "lightblue",
        "lavender",
        "lightgreen",
        "lightyellow",
        "plum",
        "peachpuff",
        "mistyrose",
        "lightcoral",
        "lightsalmon",
        "palevioletred",
        "thistle",
      ];

      function randomPopup() {
        const popup = document.createElement("div");
        popup.className = "love-popup";
        popup.textContent =
          loveSentences[Math.floor(Math.random() * loveSentences.length)];
        popup.style.backgroundColor =
          colors[Math.floor(Math.random() * colors.length)];

        const w = window.innerWidth;
        const h = window.innerHeight;
        const x = Math.random() * (w - 200);
        const y = Math.random() * (h - 100);

        popup.style.left = `${x}px`;
        popup.style.top = `${y}px`;
        document.body.appendChild(popup);

        setTimeout(() => popup.remove(), 3500);
      }

      // ÊâãÊú∫Á´ØÈ¢ëÁéáÁ®çÊÖ¢‰∏ÄÁÇπ
      const isMobile = /Mobi|Android|iPhone/i.test(navigator.userAgent);
      const interval = isMobile ? 100 : 50;

      function startAll() {
        // ÂêØÂä®ÂºπÁ™ó
        setInterval(randomPopup, interval);

        // Ëá™Âä®Êí≠ÊîæÈü≥‰πê
        const bgm = document.getElementById("bgm");
        bgm.volume = 0; // ÈùôÈü≥ÂêØÂä®ÔºàÈÉ®ÂàÜÊµèËßàÂô®Ë¶ÅÊ±ÇÔºâ
        bgm
          .play()
          .then(() => {
            // Âª∂ËøüÊÅ¢Â§çÈü≥Èáè
            setTimeout(() => {
              bgm.volume = 1;
            }, 500);
          })
          .catch(() => {
            // Â¶ÇÊûú‰ªçË¢´Êã¶Êà™ÔºåÂàôÂ∞ùËØïÈÄöËøáÁî®Êà∑‰∫§‰∫íÊÅ¢Â§ç
            document.body.addEventListener(
              "touchstart",
              () => {
                bgm.play();
              },
              { once: true }
            );
          });
      }
      const bgm = document.querySelector("audio");
      setTimeout(() => (bgm.muted = false), 800);
      // È°µÈù¢Âä†ËΩΩÂêéÂêØÂä®
      window.addEventListener("load", startAll);
    </script>
  </body>
</html>
